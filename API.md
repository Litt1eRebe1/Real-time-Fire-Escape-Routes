# API reference:
### Quick links:

<ul>  
  <li><a href="https://github.com/cos301-2019-se/Real-time-Fire-Escape-Routes/new/master#web-ui" target="_blank">Web UI</a></li>
  <li><a href="https://github.com/cos301-2019-se/Real-time-Fire-Escape-Routes/new/master#rfte-real-time-fire-escape-api" target="_blank">RFTE API</a></li>
</ul> 

---  
## Web UI
The service will be accessed by making use of POST requests to our system,
the system assumes that error checking is done on the front end to reduce overhead on the backend
```
  http://localhost:8080/  
```
@return: Will return a json object with contains the following attributes, status, timestamp and message
>   **status**: will return either true or false     
>   **message**: will return a message notifying whether or not the function succeeded or why it failed   
>   for additional info please consult our table below  
  
@params:  
>**name**: The username of the user (or email)   
>**pass**: The password generated by the system for that user  
>**Type**: the type of notification to be done    
>  
> **valid types are**: login, register

### Example Json
login  
```javascript
{
    "type": "login",
     "user": {{Username}},
     "pass":{{pass}}
}
```
register  
```javascript
{
    "type": "register",
     "user": {{Username}},
     "pass":{{pass}}
}
```
#### Return message examples:
```JSON
{
    "status": true,
    "msg": "detailed information found here"
}
```
### example usage:   
jquery  
```javascript
  $.ajax({
      url: "http://localhost:8080",
      type: "POST",
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      data: JSON.stringify({
          type: 'login',
          name: $('#username').val(),
          pass: $('#password').val()
      }),
      success: function(data){
          //Process data
      }
  })
```


---  
## RFTE (Real-Time Fire escape) API

```
 http://localhost:8080
```
@return: Will return a json object with contains the following attributes, status, timestamp and message
>   **status**: will return either true or false      
>   **message**: will return a message notifying whether or not the function succeeded or why it failed   
>   for additional info please consult our table below  
 
@params:  
>**Type**: the type of notification to be done    
>**rooms**: an Array of Room objects   
>**doors**: an Array of Door objects   
>**people**: an Array of People objects   
>  
> **valid types are**: unity  
> Please consult the JSON example to see what data is required  

### Example Json  
unity    
```javascript
{
	"type":"unity",
	"rooms":[
		{
			"x":[0,10],
			"y":[0,5],
			"z":[0,10]
		},
		{
			"x":[10,20],
			"y":[0,5],
			"z":[0,10]
		}	
	],
	"doors":[
		{
			"id": 1,
			"x": [4,5],
			"z": [4,5],
			"y": [0,2]
		},
		{
			"id": 2,
			"x": [4,5],
			"z": [4,5],
			"y": [0,2]
		},
		{
			"id": 3,
			"x": [10,12],
			"z": [4,5],
			"y": [0,2]
		}	
	],
	"people":[
		{
			"id": 11,
			"position": [2,2]
		},
		{
			"id": 12,
			"position": [3,3]
		}
	]
}
```
